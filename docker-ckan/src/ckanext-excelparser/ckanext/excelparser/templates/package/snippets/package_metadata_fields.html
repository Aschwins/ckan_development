{% ckan_extends %}

{% block package_metadata_fields %}
    {#
        {% block package_metadata_fields_url %}
            {{ form.input('url', label=_('Source'), id='field-url', placeholder=_('http://example.com/dataset.json'), value=data.url, error=errors.url, classes=['control-medium']) }}
        {% endblock %}

        {% block package_metadata_author %}
            {{ form.input('author', label=_('Author'), id='field-author', placeholder=_('Joe Bloggs'), value=data.author, error=errors.author, classes=['control-medium']) }}

            {{ form.input('author_email', label=_('Author Email'), id='field-author-email', placeholder=_('joe@example.com'), value=data.author_email, error=errors.author_email, classes=['control-medium']) }}
        {% endblock %}

        {% block package_metadata_fields_maintainer %}
            {{ form.input('maintainer', label=_('Maintainer'), id='field-maintainer', placeholder=_('Joe Bloggs'), value=data.maintainer, error=errors.maintainer, classes=['control-medium']) }}

            {{ form.input('maintainer_email', label=_('Maintainer Email'), id='field-maintainer-email', placeholder=_('joe@example.com'), value=data.maintainer_email, error=errors.maintainer_email, classes=['control-medium']) }}
        {% endblock %}
    #}

    <div class="form-group">
        {% set error = errors.data_category %}
        <label class="control-label" for="field-data_category">{{ _("Data Category") }}</label>
        <div class="controls">
            <div class="row">
                <div class="col-md-6">
                    <select id="field-data_category" name="data_category" data-module="autocomplete">
                        {% set existing_data_category = data.get('data_category') %}
                        {% for data_category in h.excelparser_get_data_categories() %}
                            <option value="{{ data_category }}" {% if existing_data_category == data_category %}selected="selected"{% endif %}>{{ data_category }}</option>
                        {% endfor %}
                    </select>
                    {% if error %}<span class="error-block">{{ error }}</span>{% endif %}
                </div>
                <div class="col-md-6">
                    <span class="info-block info-inline">
                        <i class="fa fa-info-circle"></i>
                        {% trans %}
                            Pick the data category of the file you want to upload. The data category defines what pipelines it goes through.
                            at <a href="http://opendefinition.org/licenses/">ckanpipelines.org</a>
                        {% endtrans %}
                    </span>
                </div>
            </div>
        </div>
    </div>

{% endblock %}